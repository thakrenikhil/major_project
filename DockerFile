FROM node:20-alpine

WORKDIR /user/src/app

ARG MONGODB_URI 
ENV MONGODB_URI = ${MONGODB_URI}

ARG JWT_SECRET 
ENV jwt_SECRET = ${jwt_SECRET}

ARG PORT
ENV PORT = ${PORT}

ARG NODE_ENV
ENV NODE_ENV = ${NODE_ENV}

ARG CLOUDINARY_URL
ENV CLOUDINARY_URL = ${CLOUDINARY_URL}

ARG CLOUDINARY_API_KEY
ENV CLOUDINARY_API_KEY = ${CLOUDINARY_API_KEY}

ARG CLOUDINARY_KEY_SECRET
ENV CLOUDINARY_KEY_SECRET  = ${CLOUDINARY_KEY_SECRET}

ARG CLOUDINARY_CLOUD_NAME 
ENV CLOUDINARY_CLOUD_NAME = ${CLOUDINARY_CLOUD_NAME}


COPY . .

RUN npm install

CMD ["npm", "run", "dev"]
